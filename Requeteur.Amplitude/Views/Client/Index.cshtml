@model List<Client>  
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor  
@{  
    ViewData["Title"] = "Clients";  
}  
<h1></h1>
<h1></h1>
<div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3 mb-0">Liste des clients</h1>    
    <div class="d-flex gap-2">
        <a class="btn btn-primary" asp-controller="Client" asp-action="Export"><i class="bi bi-download"></i> Exporter</a>
    </div>
</div>

<form method="get" class="mb-3">  
    <div class="input-group">  
        <input type="text"  
               name="search"  
               class="form-control"  
               style="text-transform: uppercase;"
               placeholder="Rechercher un client..."  
               value="@HttpContextAccessor.HttpContext.Request.Query["search"]" 
               oninput="this.value = this.value.toUpperCase();"/>  
        <button class="btn btn-outline-secondary" type="submit" asp-controller="Client" asp-action="Search"><i class="bi bi-search"></i> Rechercher</button>  
    </div>  
</form>  

<div class="table-responsive" style="max-height: 700px; overflow-y: auto;">
    <table class="table table-striped table-bordered align-middle">
        <thead class="table-dark">
            <tr>
                <th style="min-width: 120px;">CodeAgence</th>
                <th style="min-width: 120px;">IDClient</th>
                <th style="min-width: 120px;">NumeroMembre</th>
                <th style="min-width: 120px;">TypeClient</th>
                <th style="min-width: 200px;">Nom</th>
                <th style="min-width: 120px;">Prénom</th>
                <th style="min-width: 150px;">RaisonSociale</th>
                <th style="min-width: 100px;">Sigle</th>
                <th style="min-width: 180px;">AdresseMail</th>
                <th style="min-width: 80px;">Sexe</th>
                <th style="min-width: 130px;">DateDeNaissance</th>
                <th style="min-width: 150px;">VilleDeNaissance</th>
                <th style="min-width: 150px;">NumeroPieceIdent</th>
                <th style="min-width: 150px;">DateDelivrancePiece</th>
                <th style="min-width: 150px;">LieuDelivrancePiece</th>
                <th style="min-width: 130px;">DateDeMission</th>
                <th style="min-width: 130px;">Actions</th>
            </tr>
        </thead>
        <tbody>            
            @foreach (var clt in Model)
            {
                <tr>
                    <td>@clt.CodAge</td>
                    <td>@clt.IdClient</td>
                    <td>@clt.NumeroMembre</td>
                    <td>@clt.TypeClient</td>
                    <td>@clt.Nom</td>
                    <td>@clt.Prenom</td>
                    <td>@clt.RaisonSociale</td>
                    <td>@clt.Sigle</td>
                    <td>@clt.AdresseMail</td>
                    <td>@clt.Sexe</td>
                    <td>@clt.DateDeNaissance</td>
                    <td>@clt.VilleDeNaissance</td>
                    <td>@clt.NumeroPieceIdent</td>
                    <td>@clt.DateDelivrancePiece</td>
                    <td>@clt.LieuDelivrancePiece</td>
                    <td>@clt.DateDeMission</td>
                    <td>
                        <a class="btn btn-sm btn-info" asp-action="Details" asp-route-id="@clt.IdClient"><i class="bi bi-eye"></i></a>
                        <a class="btn btn-sm btn-warning" asp-action="" asp-route-id="@clt.IdClient"><i class="bi bi-pencil"></i></a>
                        @* <a class="btn btn-sm btn-danger" asp-action="Delete" asp-route-id="@clt.IdClient"><i class="bi bi-trash"></i></a> *@
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<div class="mt-4">
    <a class="btn btn-secondary" asp-controller="Home" asp-action="Index">
        <i class="bi bi-arrow-left"></i> Retour 
    </a>
</div>